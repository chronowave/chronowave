## ChronoWave: A schema agnostic data store for append only machine generated data

Chronowave batches input data stream into segments (or blocks) and transforms the semi structured data into columnar formats, followed by creating self compressed index to produce a succinct index data structure. 
Not only the index size is much smaller than the original data, Chronowave can also use the index (only the index itself) to resolve query requests and extract the original data. Chronowave introduces a new simple query language *SSQL* stands for Semi Structured Query Language.


### command line example

1. build command line executable
```shell script
cd cmd/waverider
go build
```

sample.json is a distributed trace data generated by HotRod app captured in Jaeger. Only partial data listed. 

```json
{
   "tags" : [
      {
         "type" : "string",
         "key" : "http.url",
         "value" : "http://0.0.0.0:8083/route?dropoff=577%2C322&pickup=516%2C208"
      }
   ],
  "startTime" : 1601613777130370,
  "spanID" : "2ef6e3c30af421ea",
   "traceID" : "464382d9a88849ff"
}
```

2. construct index: /startTime as time partition *required*, /traceID, /spanID will be used latter as K/V usage (optional)
```shell script
./waverider index ./testdata/sample.json -d data -t '/startTime' -k '/traceID' -k '/spanID'
```

3. query data: *timeframe* is a SSQL keyword that tells Chronowave searches data between the required time range.
Chronowave supports partial words and wild card full text search.
```shell script
./waverider query -d data 'find $log where [$log /logs][/startTime timeframe(1601613777130350, 1801613777130470)] [/tags [/key contain("http.url")] [/value contain("dropoff*pickup")]]'
```

4. key/value lookup: *key* is a SSQL keyword that tells Chronowave lookups by the key. The JSON path of the key must be provided at the time of building index.
```shell script
./waverider query -d data 'find $a where [$a /process][/traceID key("464382d9a88849ff")]'
```

### Semi Structured Query Language
coming soon
